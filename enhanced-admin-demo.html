<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Admin Orders - Payment Integration Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-gray-50 p-6">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-6">Enhanced Admin Orders Interface</h1>
        <p class="text-gray-600 mb-8">Demonstrating improved delivery fee, promo discount, and schedule handling</p>
        
        <!-- Sample Order Card with Enhanced Features -->
        <div class="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h3 class="font-semibold text-lg">Order #ORD-20240115-0001</h3>
                    <p class="text-sm text-gray-500">January 15, 2024 at 2:30 PM</p>
                </div>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    CONFIRMED
                </span>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
                <div>
                    <p class="text-sm text-gray-500">Customer</p>
                    <p class="font-medium">John Smith</p>
                    <p class="text-sm text-gray-500">john@example.com</p>
                </div>
                
                <div>
                    <p class="text-sm text-gray-500">Order Type & Amount</p>
                    <p class="font-medium capitalize">delivery</p>
                    <div class="space-y-1">
                        <p class="text-lg font-bold text-blue-600">‚Ç¶2,850.00</p>
                        <p class="text-xs text-gray-500">(includes ‚Ç¶500.00 delivery)</p>
                        <p class="text-xs text-green-600">Promo discount: -‚Ç¶150.00</p>
                    </div>
                </div>
                
                <div>
                    <p class="text-sm text-gray-500">Items & Payment</p>
                    <div class="flex items-center gap-2">
                        <span class="font-medium">3 items</span>
                        <button class="h-6 px-2 text-xs bg-gray-100 rounded">Products</button>
                    </div>
                    <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800">
                        paid
                    </span>
                </div>
            </div>

            <!-- Enhanced Delivery Information -->
            <div class="border-t pt-4">
                <div class="flex items-center gap-2 mb-3">
                    <i data-lucide="truck" class="w-4 h-4 text-blue-600"></i>
                    <h4 class="font-medium">Delivery Information</h4>
                </div>
                
                <div class="space-y-4">
                    <!-- Delivery Address -->
                    <div>
                        <p class="text-sm text-gray-500 font-medium mb-1">Delivery Address</p>
                        <p class="text-sm font-semibold">123 Lagos Street, Victoria Island, Lagos</p>
                    </div>
                    
                    <!-- Delivery Zone -->
                    <div>
                        <p class="text-sm text-gray-500 font-medium mb-1">Delivery Zone</p>
                        <p class="text-sm font-semibold">Victoria Island</p>
                        <p class="text-sm text-green-600 font-medium">Delivery Fee: ‚Ç¶500.00</p>
                    </div>
                    
                    <!-- Delivery Schedule - Success Case -->
                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="calendar" class="w-4 h-4 text-green-600"></i>
                            <p class="text-sm font-medium text-green-800">Delivery Schedule</p>
                        </div>
                        <div class="text-sm text-green-700">
                            <p><strong>Date:</strong> January 15, 2024</p>
                            <p><strong>Time:</strong> 2:00 PM - 4:00 PM</p>
                            <p><strong>Instructions:</strong> Call on arrival, apartment 5B</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sample Order Card with Missing Schedule (Fallback) -->
        <div class="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h3 class="font-semibold text-lg">Order #ORD-20240115-0002</h3>
                    <p class="text-sm text-gray-500">January 15, 2024 at 3:45 PM</p>
                </div>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                    CONFIRMED
                </span>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
                <div>
                    <p class="text-sm text-gray-500">Customer</p>
                    <p class="font-medium">Sarah Johnson</p>
                    <p class="text-sm text-gray-500">sarah@example.com</p>
                </div>
                
                <div>
                    <p class="text-sm text-gray-500">Order Type & Amount</p>
                    <p class="font-medium capitalize">delivery</p>
                    <div class="space-y-1">
                        <p class="text-lg font-bold text-blue-600">‚Ç¶1,750.00</p>
                        <p class="text-xs text-gray-500">(includes ‚Ç¶300.00 delivery)</p>
                    </div>
                </div>
                
                <div>
                    <p class="text-sm text-gray-500">Items & Payment</p>
                    <div class="flex items-center gap-2">
                        <span class="font-medium">2 items</span>
                        <button class="h-6 px-2 text-xs bg-gray-100 rounded">Products</button>
                    </div>
                    <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800">
                        paid
                    </span>
                </div>
            </div>

            <!-- Enhanced Delivery Information with Missing Schedule -->
            <div class="border-t pt-4">
                <div class="flex items-center gap-2 mb-3">
                    <i data-lucide="truck" class="w-4 h-4 text-blue-600"></i>
                    <h4 class="font-medium">Delivery Information</h4>
                </div>
                
                <div class="space-y-4">
                    <!-- Delivery Address -->
                    <div>
                        <p class="text-sm text-gray-500 font-medium mb-1">Delivery Address</p>
                        <p class="text-sm font-semibold">456 Ikeja Road, Ikeja, Lagos</p>
                    </div>
                    
                    <!-- Delivery Zone -->
                    <div>
                        <p class="text-sm text-gray-500 font-medium mb-1">Delivery Zone</p>
                        <p class="text-sm font-semibold">Ikeja</p>
                        <p class="text-sm text-green-600 font-medium">Delivery Fee: ‚Ç¶300.00</p>
                    </div>
                    
                    <!-- Missing Delivery Schedule - Fallback -->
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3">
                        <div class="flex items-center gap-2">
                            <i data-lucide="alert-circle" class="w-4 h-4 text-yellow-600"></i>
                            <p class="text-sm font-medium text-yellow-800">Delivery Schedule Missing</p>
                        </div>
                        <p class="text-xs text-yellow-700 mt-1">
                            No delivery schedule found for this order. Contact customer for delivery preferences.
                        </p>
                        <button class="mt-2 inline-flex items-center px-2 py-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-xs rounded border border-yellow-300">
                            <i data-lucide="activity" class="w-3 h-3 mr-1"></i>
                            Attempt Recovery
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Delivery Analytics Summary -->
        <div class="bg-white rounded-lg shadow-sm border p-6">
            <h2 class="text-xl font-semibold mb-4">Payment Integration Enhancements</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-medium text-green-800 mb-2">‚úÖ Backend Improvements</h3>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>‚Ä¢ Authoritative amount calculation with promo logic</li>
                        <li>‚Ä¢ Database-driven delivery fee computation</li>
                        <li>‚Ä¢ Payment amount validation against database totals</li>
                        <li>‚Ä¢ Webhook amount mismatch detection</li>
                        <li>‚Ä¢ Security incident logging for payment anomalies</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-medium text-blue-800 mb-2">üñ•Ô∏è Frontend Enhancements</h3>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>‚Ä¢ Enhanced delivery fee and promo display</li>
                        <li>‚Ä¢ Missing delivery schedule fallback with recovery</li>
                        <li>‚Ä¢ Detailed order amount breakdown</li>
                        <li>‚Ä¢ Clear error messages and recovery actions</li>
                        <li>‚Ä¢ Improved admin order management interface</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>
</html>